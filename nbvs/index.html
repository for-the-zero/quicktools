<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NanoBanana Vision Solver</title>
    <!-- preconnect -->
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdn.jsdmirror.com" crossorigin>
    <!-- cdn -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Google+Sans&display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC&display=swap">
    <link rel="stylesheet" href="https://cdn.jsdmirror.com/npm/katex/dist/katex.min.css">
    <link rel="stylesheet" href="https://cdn.jsdmirror.com/npm/markdown-it-texmath/css/texmath.min.css">
    <link rel="stylesheet" href="https://cdn.jsdmirror.com/npm/viewerjs/dist/viewer.min.css">
    <!-- mdui --> <!-- https://www.mdui.org/zh-cn/docs/2/llms.txt : visit docs for llm -->
    <link rel="stylesheet" href="https://cdn.jsdmirror.com/npm/mdui/mdui.css">
    <script src="https://cdn.jsdmirror.com/npm/mdui/mdui.global.js"></script>
    <!-- css -->
    <link rel="stylesheet" href="./index.css">
</head>
<body>
    <mdui-top-app-bar scroll-behavior="elevate">
        <mdui-top-app-bar-title style="margin-left: 5px;">NanoBanana Vision Solver</mdui-top-app-bar-title>
        <div style="flex-grow: 1"></div>
        <mdui-tooltip content="Settings">
            <mdui-button-icon icon="settings--outlined"></mdui-button-icon>
        </mdui-tooltip>
        <mdui-tooltip content="About">
            <mdui-button-icon icon="info--outlined"></mdui-button-icon>
        </mdui-tooltip>
    </mdui-top-app-bar>
    <div class="main">

        <h2 style="font-size: 25px;color: #f2e58c;">怎么说呢，有点烂尾了，后面我测试不了，因为我免费用不了NanoBanana，所以就放弃了，不知道能不能用</h2>
        <h2 style="font-size: 25px;color: #f2e58c;">Well, how should I put this… it kind of fell flat at the end. I couldn't test it further because I can't use NanoBanana for free, so I just gave up, not sure if it can work.</h2>
        <mdui-divider></mdui-divider>
        <h2>1. Input Image and Descriptions</h2>
        <mdui-tabs class="image-tabs" value="url" variant="primary">
            <mdui-tab value="url">Input URL</mdui-tab>
            <mdui-tab value="upload">Upload as Base64</mdui-tab>
            <mdui-tab-panel slot="panel" value="url">
                <mdui-text-field class="image-url-input" label="Image URL"></mdui-text-field>
            </mdui-tab-panel>
            <mdui-tab-panel slot="panel" value="upload">
                <div class="upload-image-container">
                    <mdui-button class="upload-image-button" variant="outlined">Upload Image</mdui-button>
                    <span>or</span>
                    <mdui-card class="drop-image-card" variant="filled">Drop Image Here</mdui-card>
                    <span>or Paste Image Anywhere</span>
                </div>
            </mdui-tab-panel>
        </mdui-tabs>
        <img class="image-preview" src="https://placehold.net/default.png" alt="Preview">
        <mdui-text-field class="descriptions-input" variant="outlined" label="Descriptions" autosize></mdui-text-field>
        <mdui-button class="run-button" full-width>RUN!</mdui-button> <!-- <mdui-button ... loading disabled> -->

        <h2>2. Answer</h2>
        <div class="result-item">
            <p class="result-text"></p>
            <img class="result-image" src="https://placehold.net/default.png" alt="answer">
        </div>
    </div>

    <mdui-dialog class="settings-dialog" close-on-esc close-on-overlay-click>
        <h2>API Settings</h2>
        <p>Solving:</p>
        <mdui-tabs class="api-solving-tabs" value="gf" variant="primary" full-width>
            <mdui-tab value="gf">Gemini Format</mdui-tab>
            <mdui-tab value="of">OpenAI Format</mdui-tab>
            <mdui-tab-panel slot="panel" value="gf">
                <p>Supports Gemini Format</p>
                <div class="settings-items">
                    <mdui-text-field class="gfapi-endpoint-input" variant="outlined" label="API Endpoint"></mdui-text-field>
                    <mdui-text-field class="gfapi-key-input" variant="outlined" label="API Key" type="password" toggle-password></mdui-text-field>
                    <mdui-select class="gfapi-model-select" value="25p" variant="outlined" label="Model">
                        <mdui-menu-item value="25p">Gemini 2.5 Pro</mdui-menu-item>
                        <mdui-menu-item value="25f">Gemini 2.5 Flash</mdui-menu-item>
                        <mdui-menu-item value="25fl">Gemini 2.5 Flash-Lite</mdui-menu-item>
                        <mdui-menu-item value="other">Other</mdui-menu-item>
                        <!-- value can be empty string, it's a bug, need to set it to "other" when it's value is empty string after changed value -->
                    </mdui-select>
                    <mdui-text-field class="gfapi-model-other-input" variant="outlined" label="Model ID" type="text" style="display: none;"></mdui-text-field><!-- display when other is selected -->
                    <div class="switch">
                        <mdui-switch class="thinking-mode-switch"></mdui-switch>
                        <!-- 25p must enable, 25fl must disable, other can be either enable or disable -->
                        <span>Thinking Mode</span>
                    </div>
                </div>
            </mdui-tab-panel>
            <mdui-tab-panel slot="panel" value="of">
                <p>Supports OpenAI Format</p>
                <div class="settings-items">
                    <mdui-text-field class="ofapi-endpoint-input" variant="outlined" label="API Endpoint"></mdui-text-field>
                    <mdui-text-field class="ofapi-key-input" variant="outlined" label="API Key" type="password" toggle-password></mdui-text-field>
                    <mdui-text-field class="ofapi-model-input" variant="outlined" label="Model"></mdui-text-field>
                    <mdui-select class="ofapi-thinking" value="none" variant="outlined" label="Thinking Mode">
                        <mdui-menu-item value="none">None</mdui-menu-item>
                        <mdui-menu-item value="nt">Add \no_think after user prompt</mdui-menu-item>
                        <!-- prompt: "... \no_think" -->
                        <mdui-menu-item value="data">Add thinking:false while post data</mdui-menu-item>
                        <!-- post data: {..., thinking: false} -->
                    </mdui-select>
                </div>
            </mdui-tab-panel>
        </mdui-tabs>
        <p>Image Generation:</p>
        <mdui-tabs class="api-image-tabs" value="gf" variant="primary" full-width>
            <mdui-tab value="gf">Gemini Format</mdui-tab>
            <mdui-tab-panel slot="panel" value="gf">
                <p>Supports Gemini Format</p>
                <div class="settings-items">
                    <mdui-text-field class="gfimgapi-endpoint-input" variant="outlined" label="API Endpoint"></mdui-text-field>
                    <mdui-text-field class="gfimgapi-key-input" variant="outlined" label="API Key" type="password" toggle-password></mdui-text-field>
                    <mdui-select class="gfimgapi-model-select" value="25fi" variant="outlined" label="Model">
                        <mdui-menu-item value="25fi">Gemini 2.5 Flash Image(a.k.a. NanoBanana)</mdui-menu-item>
                        <mdui-menu-item value="other">Other</mdui-menu-item>
                    </mdui-select>
                    <mdui-text-field class="gfimgapi-model-other-input" variant="outlined" label="Model ID" type="text" style="display: none;"></mdui-text-field><!-- display when other is selected -->
                </div>
            </mdui-tab-panel>
        </mdui-tabs>
        <mdui-button slot="action" variant="tonal">Save</mdui-button> <!-- will save to localstorage -->
    </mdui-dialog>

    <mdui-dialog class="about-dialog" close-on-esc close-on-overlay-click>
        <h2>About</h2>
        <p>
            Your Problem wil be solved ny a solving model first, it will give answer and steps for you, and prompts for NanoBanana<br>
            NanoBanana will generate images for you, it will generate answer's image first and then generate steps' images together.<br>
            <br>
            UI: mdui<br>
            UI Builder: me<br>
            Scripts: AI
        </p>
    </mdui-dialog>

    <script src="https://cdn.jsdmirror.com/npm/markdown-it/dist/markdown-it.min.js"></script>
    <script src="https://cdn.jsdmirror.com/npm/katex/dist/katex.min.js"></script>
    <script src="https://cdn.jsdmirror.com/npm/markdown-it-texmath/texmath.min.js"></script>
    <script src="https://cdn.jsdmirror.com/npm/viewerjs/dist/viewer.min.js"></script>
    <script>
        mdui.setTheme('auto');
        mdui.setColorScheme('#f2e58c');
    </script>
    <script src="./index.js"></script>
</body>
</html>