<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NanoBanana Vision Solver</title>
    <!-- preconnect -->
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdn.jsdmirror.com" crossorigin>
    <!-- cdn -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Google+Sans&display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC&display=swap">
    <link rel="stylesheet" href="https://cdn.jsdmirror.com/npm/katex/dist/katex.min.css">
    <link rel="stylesheet" href="https://cdn.jsdmirror.com/npm/markdown-it-texmath/css/texmath.min.css">
    <!-- mdui --> <!-- https://www.mdui.org/zh-cn/docs/2/llms.txt : visit docs for llm -->
    <link rel="stylesheet" href="https://cdn.jsdmirror.com/npm/mdui/mdui.css">
    <script src="https://cdn.jsdmirror.com/npm/mdui/mdui.global.js"></script>
    <!-- css -->
    <link rel="stylesheet" href="./index.css">
</head>
<body>
    <mdui-top-app-bar scroll-behavior="elevate">
        <mdui-top-app-bar-title style="margin-left: 5px;">NanoBanana Vision Solver</mdui-top-app-bar-title>
        <div style="flex-grow: 1"></div>
        <mdui-tooltip content="Log">
            <mdui-button-icon icon="history"></mdui-button-icon>
        </mdui-tooltip>
        <mdui-tooltip content="Settings">
            <mdui-button-icon icon="settings--outlined"></mdui-button-icon>
        </mdui-tooltip>
        <mdui-tooltip content="About">
            <mdui-button-icon icon="info--outlined"></mdui-button-icon>
        </mdui-tooltip>
    </mdui-top-app-bar>
    <div class="main">

        <h2>1. Input Image and Descriptions</h2>
        <mdui-tabs class="image-tabs" value="url" variant="primary">
            <mdui-tab value="url">Input URL</mdui-tab>
            <mdui-tab value="upload">Upload as Base64</mdui-tab>
            <mdui-tab-panel slot="panel" value="url">
                <mdui-text-field class="image-url-input" label="Image URL"></mdui-text-field>
            </mdui-tab-panel>
            <mdui-tab-panel slot="panel" value="upload">
                <div class="upload-image-container">
                    <mdui-button class="upload-image-button" variant="outlined">Upload Image</mdui-button>
                    <!-- hide below 3 elements when it's a phone(no mouse) -->
                    <span>or</span>
                    <mdui-card class="drop-image-card" draggable="true" variant="filled">Drop Image Here</mdui-card>
                    <span>or Paste Image Anywhere</span>
                </div>
            </mdui-tab-panel>
        </mdui-tabs>
        <img class="image-preview" src="https://placehold.net/default.png" alt="Preview">
        <mdui-text-field class="descriptions-input" variant="outlined" label="Descriptions" autosize></mdui-text-field>
        <mdui-button class="run-button" full-width>RUN!</mdui-button>

        <h2>2. Results</h2>
        <mdui-list>
            <mdui-collapse>
                <mdui-collapse-item value="answer"> <!-- <mdui-collapse-item disabled>禁用 -->
                    <mdui-list-item slot="header">
                        <mdui-icon slot="icon" name="check"></mdui-icon>
                        <!-- when generating: <mdui-circular-progress style="height: 24px;" slot="icon"></mdui-circular-progress> -->
                        Answer
                    </mdui-list-item>
                    <div class="result-item">
                        <p class="result-text">Answer</p>
                        <img class="result-image" src="https://placehold.net/default.png" alt="answer">
                    </div>
                </mdui-collapse-item>

                <mdui-collapse-item value="steps">
                    <mdui-list-item slot="header">
                        <mdui-icon slot="icon" name="format_list_numbered"></mdui-icon>
                        <!-- when generating: <mdui-circular-progress style="height: 24px;" slot="icon"></mdui-circular-progress> -->
                        Steps
                    </mdui-list-item>
                    <div class="result-items">
                        <div class="result-item">
                            <p class="result-text">Step</p>
                            <img class="result-image" src="https://placehold.net/default.png" alt="answer">
                        </div>
                        <!-- ... -->
                    </div>
                </mdui-collapse-item>
            </mdui-collapse>
        </mdui-list>
    </div>

    <mdui-dialog class="log-dialog" close-on-esc close-on-overlay-click> <!-- opened: <mdui-dialog class="log-dialog" close-on-esc close-on-overlay-click open> -->
        <h2>Log</h2>
        <p class="log-text">
            <!-- log content: AI responses, errors, warnings(they will alse be shown in the console).
                newer log will add to the top of the text, max 10 logs
                each log is separated by a blank line
            -->
        </p>
    </mdui-dialog>

    <mdui-dialog class="settings-dialog" close-on-esc close-on-overlay-click>
        <h2>API Settings</h2>
        <p>Solving:</p>
        <mdui-tabs class="api-solving-tabs" value="gf" variant="primary" full-width>
            <mdui-tab value="gf">Gemini Format</mdui-tab>
            <mdui-tab value="of">OpenAI Format</mdui-tab>
            <mdui-tab-panel slot="panel" value="gf">
                <p>Supports Gemini Format</p>
                <div class="settings-items">
                    <mdui-text-field class="gfapi-endpoint-input" variant="outlined" label="API Endpoint"></mdui-text-field>
                    <mdui-text-field class="gfapi-key-input" variant="outlined" label="API Key" type="password" toggle-password></mdui-text-field>
                    <mdui-select class="gfapi-model-select" value="25p" variant="outlined" label="Model">
                        <mdui-menu-item value="25p">Gemini 2.5 Pro</mdui-menu-item>
                        <mdui-menu-item value="25f">Gemini 2.5 Flash</mdui-menu-item>
                        <mdui-menu-item value="25fl">Gemini 2.5 Flash-Lite</mdui-menu-item>
                        <mdui-menu-item value="other">Other</mdui-menu-item>
                    </mdui-select>
                    <mdui-text-field class="gfapi-model-other-input" variant="outlined" label="Model ID" type="text" style="display: none;"></mdui-text-field><!-- display when other is selected -->
                    <div class="switch">
                        <mdui-switch class="thinking-mode-switch"></mdui-switch>
                        <!-- 25p must enable, 25fl must disable, other can be either enable or disable -->
                        <span>Thinking Mode</span>
                    </div>
                </div>
            </mdui-tab-panel>
            <mdui-tab-panel slot="panel" value="of">
                <p>Supports OpenAI Format</p>
                <div class="settings-items">
                    <mdui-text-field class="ofapi-endpoint-input" variant="outlined" label="API Endpoint"></mdui-text-field>
                    <mdui-text-field class="ofapi-key-input" variant="outlined" label="API Key" type="password" toggle-password></mdui-text-field>
                    <mdui-text-field class="ofapi-model-input" variant="outlined" label="Model"></mdui-text-field>
                </div>
            </mdui-tab-panel>
        </mdui-tabs>
        <p>Image Generation:</p>
        <mdui-tabs class="api-image-tabs" value="gf" variant="primary" full-width>
            <mdui-tab value="gf">Gemini Format</mdui-tab>
            <mdui-tab value="of">OpenAI Format</mdui-tab>
            <mdui-tab-panel slot="panel" value="gf">
                <p>Supports Gemini Format</p>
                <div class="settings-items">
                    <mdui-text-field class="gfimgapi-endpoint-input" variant="outlined" label="API Endpoint"></mdui-text-field>
                    <mdui-text-field class="gfimgapi-key-input" variant="outlined" label="API Key" type="password" toggle-password></mdui-text-field>
                    <mdui-select class="gfimgapi-model-select" value="25fi" variant="outlined" label="Model">
                        <mdui-menu-item value="25fi">Gemini 2.5 Flash Image(a.k.a. NanoBanana)</mdui-menu-item>
                        <mdui-menu-item value="20fi">Gemini 2.0 Flash Image</mdui-menu-item>
                        <mdui-menu-item value="other">Other</mdui-menu-item>
                    </mdui-select>
                    <mdui-text-field class="gfimgapi-model-other-input" variant="outlined" label="Model ID" type="text" style="display: none;"></mdui-text-field><!-- display when other is selected -->
                </div>
            </mdui-tab-panel>
            <mdui-tab-panel slot="panel" value="of">
                <p>Supports OpenAI Format</p>
                <div class="settings-items">
                    <mdui-text-field class="ofimgapi-endpoint-input" variant="outlined" label="API Endpoint"></mdui-text-field>
                    <mdui-text-field class="ofimgapi-key-input" variant="outlined" label="API Key" type="password" toggle-password></mdui-text-field>
                    <mdui-text-field class="ofimgapi-model-input" variant="outlined" label="Model"></mdui-text-field>
                </div>
            </mdui-tab-panel>
        </mdui-tabs>
        <mdui-button slot="action" variant="tonal">Save</mdui-button> <!-- will save to localstorage -->
    </mdui-dialog>

    <mdui-dialog class="about-dialog" close-on-esc close-on-overlay-click open>
        <h2>About</h2>
        <p>
            Your Problem -solving-model&rarr; Answer + Image Prompts<br>
            Image Prompts -image-model&rarr; Image<br>
            <br>
            UI: mdui<br>
            UI Builder: me<br>
            Scripts: Gemini Cli
        </p>
    </mdui-dialog>

    <script src="https://cdn.jsdmirror.com/npm/markdown-it/dist/markdown-it.min.js"></script>
    <script src="https://cdn.jsdmirror.com/npm/markdown-it/dist/markdown-it.min.js"></script>
    <script src="https://cdn.jsdmirror.com/npm/katex/dist/katex.min.js"></script>
    <script src="https://cdn.jsdmirror.com/npm/viewerjs"></script>
    <script src="./index.js"></script>
</body>
</html>